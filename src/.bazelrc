# UI: keep large logs and readable output
common --experimental_ui_max_stdouterr_bytes=104857600
common --color=yes
common --curses=yes
common --announce_rc

# Caching: reuse external downloads across builds
build --repository_cache=~/.cache/bazel/_bazel_repo_cache

# Worker strategy for chroot builds (rootless Podman)
# NOTE: Single worker instance required because all workers share the same
# sysroot - parallel builds cause race conditions and file conflicts.
build --strategy=LfsChrootBuild=worker
build --worker_max_instances=LfsChrootBuild=1
build --worker_sandboxing=false
